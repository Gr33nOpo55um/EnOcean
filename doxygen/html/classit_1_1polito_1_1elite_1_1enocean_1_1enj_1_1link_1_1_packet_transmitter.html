<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Enoca: it.polito.elite.enocean.enj.link.PacketTransmitter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Enoca
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceit.html">it</a></li><li class="navelem"><a class="el" href="namespaceit_1_1polito.html">polito</a></li><li class="navelem"><a class="el" href="namespaceit_1_1polito_1_1elite.html">elite</a></li><li class="navelem"><a class="el" href="namespaceit_1_1polito_1_1elite_1_1enocean.html">enocean</a></li><li class="navelem"><a class="el" href="namespaceit_1_1polito_1_1elite_1_1enocean_1_1enj.html">enj</a></li><li class="navelem"><a class="el" href="namespaceit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link.html">link</a></li><li class="navelem"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html">PacketTransmitter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">it.polito.elite.enocean.enj.link.PacketTransmitter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for it.polito.elite.enocean.enj.link.PacketTransmitter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.png" usemap="#it.polito.elite.enocean.enj.link.PacketTransmitter_map" alt=""/>
  <map id="it.polito.elite.enocean.enj.link.PacketTransmitter_map" name="it.polito.elite.enocean.enj.link.PacketTransmitter_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5299ada497832735dcdf6672677af8aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html#a5299ada497832735dcdf6672677af8aa">PacketTransmitter</a> (ConcurrentLinkedQueue&lt; <a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_queue_item.html">PacketQueueItem</a> &gt; highPriorityTxQueue, ConcurrentLinkedQueue&lt; <a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_queue_item.html">PacketQueueItem</a> &gt; lowPriorityTxQueue, SerialPort serialPort, Semaphore expectedResponse)</td></tr>
<tr class="separator:a5299ada497832735dcdf6672677af8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98eebf065023d743467f12913be4cd05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html#a98eebf065023d743467f12913be4cd05">run</a> ()</td></tr>
<tr class="separator:a98eebf065023d743467f12913be4cd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3565650a328e6f7259a067597c97ac"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html#a9f3565650a328e6f7259a067597c97ac">isRunnable</a> ()</td></tr>
<tr class="separator:a9f3565650a328e6f7259a067597c97ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d97c348081325158bd008ac36c67fc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html#a6d97c348081325158bd008ac36c67fc6">setRunnable</a> (boolean runnable)</td></tr>
<tr class="separator:a6d97c348081325158bd008ac36c67fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a24cb11c0399845b2a0f85dc1fd5e490e"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html#a24cb11c0399845b2a0f85dc1fd5e490e">TIMEOUT_TX</a> = 500</td></tr>
<tr class="separator:a24cb11c0399845b2a0f85dc1fd5e490e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6003ffc335863e2566a99792eb0f698"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html#ac6003ffc335863e2566a99792eb0f698">MIN_TX_TIME</a> = 50</td></tr>
<tr class="separator:ac6003ffc335863e2566a99792eb0f698"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class implementing the transmitter tier of the Java EnOcean Serial Protocol API, EnJ. Writes packets on the serial port (connected to the external EnOcean transceiver, e.g., the TCM 320) accounting for different transmission priorities.</p>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'dar'+'io'+'.bo'+'ni'+'no@'+'gm'+'ail'+'.c'+'om'; return false;">Dario Bonino</a>  <a href="#" onclick="location.href='mai'+'lto:'+'bia'+'si'+'and'+'re'+'a04'+'@g'+'mai'+'l.'+'com'; return false;">Andrea Biasi </a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5299ada497832735dcdf6672677af8aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5299ada497832735dcdf6672677af8aa">&sect;&nbsp;</a></span>PacketTransmitter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">it.polito.elite.enocean.enj.link.PacketTransmitter.PacketTransmitter </td>
          <td>(</td>
          <td class="paramtype">ConcurrentLinkedQueue&lt; <a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_queue_item.html">PacketQueueItem</a> &gt;&#160;</td>
          <td class="paramname"><em>highPriorityTxQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConcurrentLinkedQueue&lt; <a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_queue_item.html">PacketQueueItem</a> &gt;&#160;</td>
          <td class="paramname"><em>lowPriorityTxQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SerialPort&#160;</td>
          <td class="paramname"><em>serialPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Semaphore&#160;</td>
          <td class="paramname"><em>expectedResponse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a <a class="el" href="classit_1_1polito_1_1elite_1_1enocean_1_1enj_1_1link_1_1_packet_transmitter.html">PacketTransmitter</a> runnable connected to the given serial port, and exploiting the given transmission queues. Exploits the given semaphore to signal that a sent packet needs a response from the EnOcean transceiver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">highPriorityTxQueue</td><td>The high priority transmission queue. </td></tr>
    <tr><td class="paramname">lowPriorityTxQueue</td><td>The low priority transmission queue. </td></tr>
    <tr><td class="paramname">serialPort</td><td>The serial port used by the transmitter to send data to the physical transceiver. </td></tr>
    <tr><td class="paramname">expectedResponse</td><td>The expected response semphore. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9f3565650a328e6f7259a067597c97ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f3565650a328e6f7259a067597c97ac">&sect;&nbsp;</a></span>isRunnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean it.polito.elite.enocean.enj.link.PacketTransmitter.isRunnable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current state of the transmitter, if true the transmitter is enabled, and, if started, can trasmit packets.</p>
<dl class="section return"><dt>Returns</dt><dd>the runnable flag, true if the transmitter can run, false, otherwise. </dd></dl>

</div>
</div>
<a id="a98eebf065023d743467f12913be4cd05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98eebf065023d743467f12913be4cd05">&sect;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void it.polito.elite.enocean.enj.link.PacketTransmitter.run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The main transmission cycle. It looks for packets to transmit, in both transmission queues. The priority handling is greedy and packets in the high priority queue are always handled before packets in the low priority queue, regardless of the arrival order. </p>

</div>
</div>
<a id="a6d97c348081325158bd008ac36c67fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d97c348081325158bd008ac36c67fc6">&sect;&nbsp;</a></span>setRunnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void it.polito.elite.enocean.enj.link.PacketTransmitter.setRunnable </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>runnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops this packet transmitter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">runnable</td><td>the runnable flag, true if the transmitter can run, false, otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac6003ffc335863e2566a99792eb0f698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6003ffc335863e2566a99792eb0f698">&sect;&nbsp;</a></span>MIN_TX_TIME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int it.polito.elite.enocean.enj.link.PacketTransmitter.MIN_TX_TIME = 50</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a24cb11c0399845b2a0f85dc1fd5e490e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24cb11c0399845b2a0f85dc1fd5e490e">&sect;&nbsp;</a></span>TIMEOUT_TX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int it.polito.elite.enocean.enj.link.PacketTransmitter.TIMEOUT_TX = 500</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/it/polito/elite/enocean/enj/link/<a class="el" href="_packet_transmitter_8java.html">PacketTransmitter.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
